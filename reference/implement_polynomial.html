<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Fit a polynomial of a specified order to describe the relationship between linear rate of change and mean score in longitudinal data — implement_polynomial • longpoly</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Fit a polynomial of a specified order to describe the relationship between linear rate of change and mean score in longitudinal data — implement_polynomial"><meta name="description" content="Fit a polynomial of a specified order to describe the relationship between linear rate of change and mean score in longitudinal data"><meta property="og:description" content="Fit a polynomial of a specified order to describe the relationship between linear rate of change and mean score in longitudinal data"><meta property="og:image" content="https://shffer.github.io/longpoly/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">longpoly</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Fit a polynomial of a specified order to describe the relationship between linear rate of change and mean score in longitudinal data</h1>

      <div class="d-none name"><code>implement_polynomial.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Fit a polynomial of a specified order to describe the relationship between linear rate of change and mean score in longitudinal data</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">implement_polynomial</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  performance_metric <span class="op">=</span> <span class="st">"mean"</span>,</span>
<span>  order <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  floor_effects <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  floor_range <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>output from <code>longpoly::get_slopes_and_mean()</code> (or any tibble with columns "id", "performance_slope", &amp; "performance_mean" or "performance_bl")</p></dd>


<dt id="arg-performance-metric">performance_metric<a class="anchor" aria-label="anchor" href="#arg-performance-metric"></a></dt>
<dd><p>which measure of performance is being used? Must be either "mean" (in which case performance_mean column must be in data) or "baseline" (data must contain performance_bl). Default = <code>"mean"</code></p></dd>


<dt id="arg-order">order<a class="anchor" aria-label="anchor" href="#arg-order"></a></dt>
<dd><p>the order of the polynomial model (recommended to be selected on the scree plot output from <code><a href="test_polynomial.html">longpoly::test_polynomial()</a></code>). default = <code>3</code></p></dd>


<dt id="arg-floor-effects">floor_effects<a class="anchor" aria-label="anchor" href="#arg-floor-effects"></a></dt>
<dd><p>test for floor effects? These are identified by finding the mean value of the performance variable that is associated with the fastest rate of decline in the impaired range (specified by floor_range()). default = <code>FALSE</code></p></dd>


<dt id="arg-floor-range">floor_range<a class="anchor" aria-label="anchor" href="#arg-floor-range"></a></dt>
<dd><p>(required if <code>floor_effects = TRUE</code>). the 'impaired' range over which to search for the value of "performance_mean" that returns the minimum value for "performance_slope". expects a vector of length two with the first value providing the lower bound of the range and the second value the upper.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a list containing:</p><ol><li><p><code>model_formula</code> — the formula of the final model</p></li>
<li><p><code>final_data</code> — a tibble with columns for "id", "performance_slope", either "performance_mean" or "performance_bl" (depending on <code>performance_metric</code>), "predicted_slope", and "residual." If <code>floor_effects = TRUE</code>, an additional column "floor_effects" is appended with either keep/remove reflecting whether the record should be removed based on the identified performance_mean threshold for floor effects</p></li>
<li><p><code>threshold</code> — if <code>floor_effects = TRUE</code>, this records the threshold used for floor effect classifications</p></li>
</ol></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">poly_out</span> <span class="op">&lt;-</span></span></span>
<span class="r-in"><span><span class="fu">implement_polynomial</span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">longpoly_example_data</span>,</span></span>
<span class="r-in"><span>  performance_metric <span class="op">=</span> <span class="st">"mean"</span>,</span></span>
<span class="r-in"><span>  order <span class="op">=</span> <span class="fl">3</span>,</span></span>
<span class="r-in"><span>  floor_effects <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>  floor_range <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">longpoly_example_data</span><span class="op">$</span><span class="va">performance_mean</span><span class="op">)</span>, <span class="fl">0</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># View the equation of the final model</span></span></span>
<span class="r-in"><span><span class="va">poly_out</span><span class="op">$</span><span class="va">model_formula</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "y = -0.164 +0.129x -0.005x^2 -0.019x^3"</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># View the final data</span></span></span>
<span class="r-in"><span><span class="va">poly_out</span><span class="op">$</span><span class="va">final_data</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 6 × 6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      id performance_mean performance_slope predicted_slope residual</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span>     1            0.235            0.127           -<span style="color: #BB0000;">0.134</span>   0.261 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span>     2           -<span style="color: #BB0000;">0.331</span>            0.071<span style="text-decoration: underline;">5</span>          -<span style="color: #BB0000;">0.207</span>   0.278 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span>     3           -<span style="color: #BB0000;">0.312</span>           -<span style="color: #BB0000;">0.215</span>           -<span style="color: #BB0000;">0.204</span>  -<span style="color: #BB0000;">0.010</span><span style="color: #BB0000; text-decoration: underline;">5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">4</span>     4           -<span style="color: #BB0000;">2.30</span>             0.126           -<span style="color: #BB0000;">0.255</span>   0.381 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">5</span>     5           -<span style="color: #BB0000;">0.171</span>           -<span style="color: #BB0000;">0.215</span>           -<span style="color: #BB0000;">0.186</span>  -<span style="color: #BB0000;">0.028</span><span style="color: #BB0000; text-decoration: underline;">9</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">6</span>     6            0.140           -<span style="color: #BB0000;">0.219</span>           -<span style="color: #BB0000;">0.146</span>  -<span style="color: #BB0000;">0.072</span><span style="color: #BB0000; text-decoration: underline;">5</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 1 more variable: floor_effects &lt;fct&gt;</span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># View the selected threshold</span></span></span>
<span class="r-in"><span> <span class="va">poly_out</span><span class="op">$</span><span class="va">threshold</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] -1.592723</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Other example uses:</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># implement_polynomial(example_slope_mean_data,</span></span></span>
<span class="r-in"><span><span class="co">#                      floor_effects = FALSE)</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># # if floor_effects = TRUE,</span></span></span>
<span class="r-in"><span><span class="co"># it may be sensible to use the minumum performance_mean value as the lower bound of the range,</span></span></span>
<span class="r-in"><span><span class="co"># e.g.:</span></span></span>
<span class="r-in"><span><span class="co"># example_slope_mean_data &lt;-</span></span></span>
<span class="r-in"><span><span class="co">#   longpoly::get_slopes_and_mean(</span></span></span>
<span class="r-in"><span><span class="co">#     example_data,</span></span></span>
<span class="r-in"><span><span class="co">#     id_col = "id",</span></span></span>
<span class="r-in"><span><span class="co">#     outcome_col = "memory_test",</span></span></span>
<span class="r-in"><span><span class="co">#     time_col = "time"</span></span></span>
<span class="r-in"><span><span class="co">#   ))</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># implement_polynomial(</span></span></span>
<span class="r-in"><span><span class="co">#   example_slope_mean_data,</span></span></span>
<span class="r-in"><span><span class="co">#   floor_effects = TRUE,</span></span></span>
<span class="r-in"><span><span class="co">#   floor_range = c(min(</span></span></span>
<span class="r-in"><span><span class="co">#     example_slope_mean_data$performance_mean</span></span></span>
<span class="r-in"><span><span class="co">#   ), 0)</span></span></span>
<span class="r-in"><span><span class="co"># )</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co">#</span></span></span>
<span class="r-in"><span><span class="co"># # if floor_effects = FALSE,</span></span></span>
<span class="r-in"><span><span class="co"># it is straightforward to pipe in the output from longpoly::get_slopes_and_mean(),</span></span></span>
<span class="r-in"><span><span class="co"># e.g.:</span></span></span>
<span class="r-in"><span><span class="co"># get_slopes_and_mean(example_data,</span></span></span>
<span class="r-in"><span><span class="co">#                    id_col = "id",</span></span></span>
<span class="r-in"><span><span class="co">#                    outcome_col = "memory_test",</span></span></span>
<span class="r-in"><span><span class="co">#                    time_col = "time") %&gt;%</span></span></span>
<span class="r-in"><span><span class="co">#   implement_polynomial(., floor_effects = FALSE)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Shane Fernandez.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

